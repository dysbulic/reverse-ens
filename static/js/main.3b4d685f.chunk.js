(this["webpackJsonpreverse-ens"]=this["webpackJsonpreverse-ens"]||[]).push([[0],{305:function(e,r){},328:function(e,r){},330:function(e,r){},406:function(e,r){},408:function(e,r){},440:function(e,r){},445:function(e,r){},447:function(e,r){},454:function(e,r){},467:function(e,r){},485:function(e,r){},496:function(e,r){},499:function(e,r){},558:function(e,r,t){"use strict";t.r(r);var n=t(0),s=t.n(n),a=t(84),c=t.n(a),o=t(581),u=t(163),i=t(22),l=t(23),d=t.n(l),f=t(57),v=t(52),b=t(9),p=t(267),h=t.n(p),j=t(165),x=t(580),m=t(573),O=t(584),g=t(574),w=t(575),k=t(582),R=t(577),A=t(578),C=t(579),y=t(583),S=t(270),E=t(585),N=t(21),I=void 0,M=window.ethereum,L=new h.a(M),W=function(e){return function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];t[0]="%c ".concat(t[0]," "),t.splice(1,0,e),console.log.apply(I,t)}},F=function(){var e=new j.a,r=Object(i.f)(),t=Object(n.useState)(r.name||"subdomain.ensname.eth"),s=Object(b.a)(t,2),a=s[0],c=s[1],o=Object(n.useState)({self:"Your Address",net:"Current Network",registrar:"Reverse Registrar Address",reverse:"Reverse Address",address:null,resolver:"Resolver Address",owner:"Reverse Lookup Owner",name:"Reverse Lookup"}),u=Object(b.a)(o,2),l=u[0],p=u[1],h=Object(n.useState)({}),I=Object(b.a)(h,2),F=I[0],$=I[1],q=Object(n.useState)({}),B=Object(b.a)(q,2),J=B[0],T=B[1],U=Object(x.a)(),z=function(e){$((function(r){return Object(v.a)(Object(v.a)({},r),e)}))},D=function(e){T((function(r){return Object(v.a)(Object(v.a)({},r),e)}))},K=function(){$({}),T({})};Object(n.useEffect)((function(){return null===M||void 0===M||M.on("chainChanged",K),function(){return null===M||void 0===M?void 0:M.off("chainChanged",K)}}),[]),Object(n.useEffect)((function(){var e=function(e){K(),z({self:e[0]})};return null===M||void 0===M||M.on("accountsChanged",e),function(){return null===M||void 0===M?void 0:M.off("accountsChanged",e)}}),[]),Object(n.useEffect)((function(){p((function(e){return Object(v.a)(Object(v.a)({},e),{},{address:"".concat(a,"'s Address")})})),$((function(e){return Object(v.a)(Object(v.a)({},e),{},{address:void 0})}))}),[a]);var P=[{name:"Install MetaMask",func:function(){return e.startOnboarding()},if:function(){return!j.a.isMetaMaskInstalled()}},{name:"Connect Ethereum Wallet",func:function(){var e=Object(f.a)(d.a.mark((function e(){var r,t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=W("color: purple"))("Enabling Inpage Provider"),e.next=4,null===M||void 0===M?void 0:M.request({method:"eth_requestAccounts"});case 4:t=e.sent,n=null===t||void 0===t?void 0:t[0],r("Wallet Address",n),z({self:n});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!M&&!F.self}},{name:"Load Addresses",func:function(){var e=Object(f.a)(d.a.mark((function e(){var r,t,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=W("color: orange; background-color: purple"),e.next=3,Object(f.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.eth.getChainId();case 2:r=e.sent,e.t0=r,e.next=1===e.t0?6:2===e.t0?7:3===e.t0?8:4===e.t0?9:42===e.t0?10:100===e.t0?11:12;break;case 6:return e.abrupt("return","mainnet");case 7:return e.abrupt("return","Morden");case 8:return e.abrupt("return","Ropsten");case 9:return e.abrupt("return","Rinkeby");case 10:return e.abrupt("return","Kovan");case 11:return e.abrupt("return","xDAI");case 12:return e.abrupt("return","unknown (id:".concat(r,")"));case 13:case"end":return e.stop()}}),e)})))();case 3:if(t=e.sent,r("Setting addrs.net",t),z({net:t}),F.self){e.next=8;break}throw new Error("Wallet Address Not Set");case 8:return n="".concat(F.self.substr(2),".addr.reverse"),r("Adding Reverse Address",n),z({reverse:n}),r("Looking Up addr.reverse Owner"),e.next=14,L.eth.ens.getOwner("addr.reverse");case 14:if(s=e.sent,r("Reverse Registrar",s),s){e.next=18;break}throw new Error("Couldn't resolve reverse registrar.");case 18:z({registrar:s});case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!F.self&&(!F.net||!F.reverse||!F.registrar)}},{name:"Load Contracts",func:function(){var e=Object(f.a)(d.a.mark((function e(){var r,t,n,s,c,o,u,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=W("color: lightgray; background-color: black"),F.registrar){e.next=3;break}throw new Error("Reverse Registrar Address Not Set");case 3:return t=new L.eth.Contract(S.a,F.registrar),r("Reverse Registrar",t.options.address),D({registrar:t}),e.next=8,L.eth.ens.getResolver(a);case 8:if(n=e.sent,D({resolver:n}),r("Resolver Address",n.options.address),!/^0x0+$/.test(n.options.address)){e.next=15;break}z({address:null,owner:null}),e.next=25;break;case 15:return e.next=17,L.eth.ens.getAddress(a);case 17:return s=e.sent,e.t0=z,e.t1=s,e.next=22,L.eth.ens.getOwner(s);case 22:e.t2=e.sent,e.t3={address:e.t1,owner:e.t2},(0,e.t0)(e.t3);case 25:if(F.reverse){e.next=27;break}throw new Error("Reverse Address Is Not Set");case 27:return e.next=29,L.eth.ens.getResolver(F.reverse);case 29:if(c=e.sent,D({reverseResolver:c}),o=c.options.address,z({resolver:o}),!/^0x0+$/.test(o)){e.next=37;break}z({name:null}),e.next=44;break;case 37:return e.next=39,t.methods.node(F.self).call();case 39:return u=e.sent,e.next=42,c.methods.name(u).call();case 42:i=e.sent,z({name:null!==i&&void 0!==i?i:null});case 44:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!F.reverse&&(!J.registrar||!J.reverseResolver)}},{name:"Claim the Reverse Address",func:function(){var e=Object(f.a)(d.a.mark((function e(){var r,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(null===(r=F.owner)||void 0===r?void 0:r.localeCompare(null!==(t=F.self)&&void 0!==t?t:"","en",{sensitivity:"base"}))){e.next=2;break}return e.abrupt("return",alert("This account has already claimed its reverse address. (".concat(F.self,")")));case 2:if(J.registrar){e.next=4;break}throw new Error("Reverse Registrar Contract Not Set");case 4:return e.next=6,J.registrar.methods.claim(F.self).send({from:F.self}).on("confirmation",(function(){z({owner:null}),D({resolver:null})}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){var e;return/^0x0+$/.test(null!==(e=F.resolver)&&void 0!==e?e:"")&&!!J.registrar}},{name:"Set ".concat(a," As Reverse"),func:function(){var e=Object(f.a)(d.a.mark((function e(){var r,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F.name!==a){e.next=2;break}return e.abrupt("return",alert("Reverse Already Set To: ".concat(a)));case 2:if(F.name&&!window.confirm("Overwrite ".concat(F.name,"?"))){e.next=16;break}if(J.registrar){e.next=5;break}throw new Error("Reverse Registrar Not Set");case 5:return e.next=7,J.registrar.methods.setName(a).send({from:F.self});case 7:if(J.resolver){e.next=9;break}throw new Error("Reverse Resolver Not Set");case 9:return e.next=11,J.registrar.methods.node(F.self).call();case 11:return r=e.sent,e.next=14,J.resolver.methods.name(r).call();case 14:t=e.sent,z({name:t});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){var e;return!/^0x0+$/.test(null!==(e=F.resolver)&&void 0!==e?e:"")&&!!J.resolver&&!!J.registrar}}];return Object(N.jsxs)(m.a,{maxW:"100%",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsxs)(g.a,{justify:"center",justifyItems:"center",children:[Object(N.jsx)(w.a,{m:0,mr:2,alignSelf:"center",children:"ENS Name For Reverse Record:"}),Object(N.jsx)(k.a,{w:"auto",textAlign:"center",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(N.jsx)(R.a,{templateColumns:"auto 1fr",alignItems:"center",children:Object.entries(l).map((function(e,r){var t,n=Object(b.a)(e,2),s=n[0],a=n[1],c=Object(A.a)(null!==(t=F[s])&&void 0!==t?t:"").onCopy;return Object(N.jsxs)(C.a,{display:"contents",sx:{"&:hover > *":{bg:"#FBFF0522"}},children:[Object(N.jsxs)(w.a,{m:0,textAlign:"right",pr:5,minW:"12em",children:[a,":"]}),Object(N.jsxs)(w.a,{m:0,textOverflow:"clip",whiteSpace:"nowrap",title:F[s],children:[F[s]&&Object(N.jsx)(y.a,{title:"Copy",mr:2,size:"xs",onClick:function(){c(),U({title:"Value Copied",duration:1500})},children:Object(N.jsx)(E.a,{})}),Object(N.jsx)("code",{children:null===F[s]?Object(N.jsx)("em",{children:"Unset"}):F[s]})]})]},r)}))})]}),Object(N.jsx)(O.a,{children:P.map((function(e,r){return Object(N.jsx)(y.a,{onClick:Object(f.a)(d.a.mark((function r(){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.func();case 3:r.next=9;break;case 5:r.prev=5,r.t0=r.catch(0),console.error(r.t0),alert(r.t0.message);case 9:case"end":return r.stop()}}),r,null,[[0,5]])}))),disabled:!!e.if&&!e.if(),m:0,mt:"0 ! important",children:e.name},r)}))})]})},$=function(){return Object(N.jsx)(u.a,{children:Object(N.jsx)(i.c,{children:Object(N.jsx)(i.a,{path:"/:name?",component:F})})})};c.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(o.a,{children:Object(N.jsx)($,{})})}),document.getElementById("root"))}},[[558,1,2]]]);
//# sourceMappingURL=main.3b4d685f.chunk.js.map
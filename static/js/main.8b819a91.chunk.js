(this["webpackJsonpreverse-ens"]=this["webpackJsonpreverse-ens"]||[]).push([[0],{305:function(e,r){},328:function(e,r){},330:function(e,r){},406:function(e,r){},408:function(e,r){},440:function(e,r){},445:function(e,r){},447:function(e,r){},454:function(e,r){},467:function(e,r){},485:function(e,r){},496:function(e,r){},499:function(e,r){},558:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),s=t(84),c=t.n(s),o=t(581),u=t(164),i=t(22),l=t(23),d=t.n(l),f=t(57),v=t(52),b=t(9),p=t(267),h=t.n(p),j=t(126),m=t(580),x=t(573),O=t(584),w=t(574),g=t(575),R=t(582),k=t(577),A=t(578),y=t(579),C=t(583),N=t(270),S=t(585),E=t(21),I=void 0,M=window.ethereum,L=new h.a(M),W=function(e){return function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];t[0]="%c ".concat(t[0]," "),t.splice(1,0,e),console.log.apply(I,t)}},F=function(){var e=new j.a,r=Object(i.f)(),t=Object(n.useState)(r.name||"subdomain.ensname.eth"),a=Object(b.a)(t,2),s=a[0],c=a[1],o=Object(n.useState)({self:"Your Address",net:"Current Network",revRegistrar:"Reverse Registrar Address",rev:"Reverse Address",owner:null,address:null,revOwner:"Reverse Lookup Owner",resolver:"Resolver Address",revName:"Reverse Lookup"}),u=Object(b.a)(o,2),l=u[0],p=u[1],h=Object(n.useState)({}),I=Object(b.a)(h,2),F=I[0],$=I[1],T=Object(n.useState)({}),q=Object(b.a)(T,2),B=q[0],J=q[1],U=Object(m.a)(),z=function(e){$((function(r){return Object(v.a)(Object(v.a)({},r),e)}))},D=function(e){J((function(r){return Object(v.a)(Object(v.a)({},r),e)}))},K=function(){$({}),J({})};null===M||void 0===M||M.on("chainChanged",K),null===M||void 0===M||M.on("accountsChanged",(function(e){K(),z({self:e[0]})})),Object(n.useEffect)((function(){p((function(e){return Object(v.a)(Object(v.a)({},e),{},{owner:"".concat(s," Owner"),address:"".concat(s," Address")})})),$((function(e){return Object(v.a)(Object(v.a)({},e),{},{owner:void 0,address:void 0})}))}),[s]);var P=[{name:"Install MetaMask",func:function(){return e.startOnboarding()},if:function(){return!j.a.isMetaMaskInstalled()}},{name:"Stop Onboarding",func:function(){try{e.stopOnboarding()}catch(r){console.warn(r)}},if:function(){return!j.a.isMetaMaskInstalled()}},{name:"Connect To Ethereum Wallet",func:function(){var e=Object(f.a)(d.a.mark((function e(){var r,t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=W("color: purple"))("Enabling Inpage Provider"),e.next=4,null===M||void 0===M?void 0:M.request({method:"eth_requestAccounts"});case 4:t=e.sent,n=null===t||void 0===t?void 0:t[0],r("Wallet Address",n),z({self:n});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!M&&!F.self}},{name:"Load Addresses",func:function(){var e=Object(f.a)(d.a.mark((function e(){var r,t,n,a,c,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=W("color: orange; background-color: purple"),e.next=3,Object(f.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.eth.getChainId();case 2:r=e.sent,e.t0=r,e.next=1===e.t0?6:2===e.t0?7:3===e.t0?8:4===e.t0?9:42===e.t0?10:100===e.t0?11:12;break;case 6:return e.abrupt("return","mainnet");case 7:return e.abrupt("return","Morden");case 8:return e.abrupt("return","Ropsten");case 9:return e.abrupt("return","Rinkeby");case 10:return e.abrupt("return","Kovan");case 11:return e.abrupt("return","xDAI");case 12:return e.abrupt("return","unknown (id:".concat(r,")"));case 13:case"end":return e.stop()}}),e)})))();case 3:if(t=e.sent,r("Setting addrs.net",t),z({net:t}),F.self){e.next=8;break}throw new Error("Wallet Address Not Set");case 8:return n="".concat(F.self.substr(2),".addr.reverse"),r("Adding Reverse Address",n),z({rev:n}),r("Looking Up addr.reverse Owner"),e.next=14,L.eth.ens.getOwner("addr.reverse");case 14:if(a=e.sent,r("revReg",a),a){e.next=18;break}throw new Error("Couldn't resolve reverse registrar.");case 18:return r("revReg",a),z({revRegistrar:a}),e.next=22,L.eth.ens.getOwner(n);case 22:return c=e.sent,z({revOwner:c}),e.next=26,L.eth.ens.getResolver(s);case 26:if(o=e.sent,!/^0x0+$/.test(o.options.address)){e.next=31;break}z({address:null,owner:null}),e.next=41;break;case 31:return e.next=33,L.eth.ens.getAddress(s);case 33:return u=e.sent,e.t0=z,e.t1=u,e.next=38,L.eth.ens.getOwner(u);case 38:e.t2=e.sent,e.t3={address:e.t1,owner:e.t2},(0,e.t0)(e.t3);case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!F.self&&(!F.net||void 0===F.address||void 0===F.owner)}},{name:"Load Contracts",func:function(){var e=Object(f.a)(d.a.mark((function e(){var r,t,n,a,s,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=W("color: lightgray; background-color: black"),F.revRegistrar){e.next=3;break}throw new Error("Reverse Registrar Address Not Set");case 3:return t=new L.eth.Contract(N.a,F.revRegistrar),r("Reverse Registrar",t.options.address),D({revRegistrar:t}),e.next=8,t.methods.defaultResolver().call();case 8:if(n=e.sent,z({defaultResolver:n}),F.rev){e.next=12;break}throw new Error("Reverse Address Is Not Set");case 12:return e.next=14,L.eth.ens.getResolver(F.rev);case 14:if(a=e.sent,D({revResolver:a}),s=a.options.address,z({resolver:s}),!/^0x0+$/.test(s)){e.next=22;break}z({revName:null}),e.next=29;break;case 22:return e.next=24,t.methods.node(F.self).call();case 24:return c=e.sent,e.next=27,a.methods.name(c).call();case 27:o=e.sent,z({revName:null!==o&&void 0!==o?o:null});case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!F.revRegistrar&&(!B.revRegistrar||!B.revResolver)}},{name:"Claim the Reverse Address",func:function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F.revOwner!==F.self){e.next=2;break}return e.abrupt("return",alert("This account has already claimed its reverse address. (".concat(F.self,")")));case 2:if(B.revRegistrar){e.next=4;break}throw new Error("Reverse Registrar Contract Not Set");case 4:return e.next=6,B.revRegistrar.methods.claim(F.self).send({from:F.self}).on("confirmation",(function(){z({revOwner:null}),D({revResolver:null})}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){var e,r,t;return/^0x0+$/.test(null!==(e=F.revOwner)&&void 0!==e?e:"")&&!!B.revRegistrar&&0!==(null===(r=F.revOwner)||void 0===r?void 0:r.localeCompare(null!==(t=F.self)&&void 0!==t?t:"","en",{sensitivity:"base"}))}},{name:"Link Reverse Name",func:function(){var e=Object(f.a)(d.a.mark((function e(){var r,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F.revName!==s){e.next=2;break}return e.abrupt("return",alert("Reverse Already Set To: ".concat(s)));case 2:if(F.revName&&!window.confirm("Overwrite ".concat(F.revName,"?"))){e.next=16;break}if(B.revRegistrar){e.next=5;break}throw new Error("Reverse Registrar Not Set");case 5:return e.next=7,B.revRegistrar.methods.setName(s).send({from:F.self});case 7:if(B.revResolver){e.next=9;break}throw new Error("Reverse Resolver Not Set");case 9:return e.next=11,B.revRegistrar.methods.node(F.self).call();case 11:return r=e.sent,e.next=14,B.revResolver.methods.name(r).call();case 14:t=e.sent,z({revName:t});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){var e;return!/^0x0+$/.test(null!==(e=F.revOwner)&&void 0!==e?e:"")&&!!B.revResolver&&!!B.revRegistrar}}];return Object(E.jsxs)(x.a,{maxW:"100%",children:[Object(E.jsxs)(O.a,{children:[Object(E.jsxs)(w.a,{justify:"center",justifyItems:"center",children:[Object(E.jsx)(g.a,{m:0,mr:2,alignSelf:"center",children:"ENS Name For Reverse Record:"}),Object(E.jsx)(R.a,{w:"auto",textAlign:"center",value:s,onChange:function(e){return c(e.target.value)}})]}),Object(E.jsx)(k.a,{templateColumns:"auto 1fr",alignItems:"center",children:Object.entries(l).map((function(e,r){var t,n=Object(b.a)(e,2),a=n[0],s=n[1],c=Object(A.a)(null!==(t=F[a])&&void 0!==t?t:"").onCopy;return Object(E.jsxs)(y.a,{display:"contents",sx:{"&:hover > *":{bg:"#FBFF0522"}},children:[Object(E.jsxs)(g.a,{m:0,textAlign:"right",pr:5,minW:"12em",children:[s,":"]}),Object(E.jsxs)(g.a,{m:0,textOverflow:"clip",whiteSpace:"nowrap",title:F[a],children:[F[a]&&Object(E.jsx)(C.a,{title:"Copy",mr:2,size:"xs",onClick:function(){c(),U({title:"Value Copied",duration:1500})},children:Object(E.jsx)(S.a,{})}),Object(E.jsx)("code",{children:null===F[a]?Object(E.jsx)("em",{children:"Unset"}):F[a]})]})]},r)}))})]}),Object(E.jsx)(O.a,{children:P.map((function(e,r){return Object(E.jsx)(C.a,{onClick:Object(f.a)(d.a.mark((function r(){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.func();case 3:r.next=9;break;case 5:r.prev=5,r.t0=r.catch(0),console.error(r.t0),alert(r.t0.message);case 9:case"end":return r.stop()}}),r,null,[[0,5]])}))),disabled:!!e.if&&!e.if(),m:0,mt:"0 ! important",children:e.name},r)}))})]})},$=function(){return Object(E.jsx)(u.a,{children:Object(E.jsx)(i.c,{children:Object(E.jsx)(i.a,{path:"/:name?",component:F})})})};c.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(o.a,{children:Object(E.jsx)($,{})})}),document.getElementById("root"))}},[[558,1,2]]]);
//# sourceMappingURL=main.8b819a91.chunk.js.map
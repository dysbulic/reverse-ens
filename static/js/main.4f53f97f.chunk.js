(this["webpackJsonpreverse-ens"]=this["webpackJsonpreverse-ens"]||[]).push([[0],{267:function(e,n){},290:function(e,n){},292:function(e,n){},368:function(e,n){},370:function(e,n){},402:function(e,n){},407:function(e,n){},409:function(e,n){},416:function(e,n){},429:function(e,n){},447:function(e,n){},458:function(e,n){},461:function(e,n){},517:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(239),s=t.n(c),o=t(528),u=t(18),i=t.n(u),f=t(45),l=(t(17),t(53)),d=t(10),v=t(240),h=t.n(v),p=t(105),b=t(536),j=t(529),m=t(534),w=t(531),O=t(532),g=t(533),x=t(535),k=t(243),R=t(19),y=void 0,A=window.ethereum,S=new h.a(A),C=function(e){return function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];t[0]="%c ".concat(t[0]," "),t.splice(1,0,e),console.log.apply(y,t)}},M=function(e){var n="0x".concat("0".repeat(64));if(""!==e)for(var t=e.split("."),r=t.length-1;r>=0;r--){var a,c;n=null!==(a=S.utils.sha3(n+(null!==(c=S.utils.sha3(t[r]))&&void 0!==c?c:"").slice(2)))&&void 0!==a?a:""}return n.toString()},I=function(){var e=new p.a,n=Object(r.useState)("dhappy"),t=Object(d.a)(n,2),a=t[0],c=t[1],s=Object(r.useState)("eth"),u=Object(d.a)(s,2),v=u[0],h=u[1],y=Object(r.useState)({self:"Your Address",net:"Current Network",revRegistrar:"Reverse Registrar Address",rev:"Reverse Address",owner:"".concat(a,".").concat(v," Owner"),revOwner:"Reverse Lookup Owner",resolver:"Resolver Address",revName:"Reverse Lookup"}),I=Object(d.a)(y,2),N=I[0],E=I[1],L=Object(r.useState)({}),q=Object(d.a)(L,2),D=q[0],J=q[1],V=Object(r.useState)({}),_=Object(d.a)(V,2),B=_[0],K=_[1],P=function(e){J((function(n){return Object(l.a)(Object(l.a)({},n),e)}))};A.on("networkChanged",(function(){J({}),K({})})),A.on("accountsChanged",(function(e){return P({self:e[0]})})),Object(r.useEffect)((function(){E((function(e){return Object(l.a)(Object(l.a)({},e),{},{owner:"".concat(a,".").concat(v," Owner")})}))}),[a,v]);var W=[{name:"Install MetaMask",func:function(){return e.startOnboarding()},if:function(){return!p.a.isMetaMaskInstalled()}},{name:"Stop Onboarding",func:function(){try{e.stopOnboarding()}catch(n){console.warn(n)}},if:function(){return!p.a.isMetaMaskInstalled()}},{name:"Enable Ethereum on this Site",func:function(){var e=Object(f.a)(i.a.mark((function e(){var n,t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=C("color: purple"))("Enabling Inpage Provider"),e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:t=e.sent,r=t[0],n("Wallet Address",r),P({self:r});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!D.self}},{name:"Load Addresses",func:function(){var e=Object(f.a)(i.a.mark((function e(){var n,t,r,a,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C("color: orange; background-color: purple"),r=function(){switch(parseInt(A.networkVersion)){case 1:return"mainnet";case 2:return"Morden";case 3:return"Ropsten";case 4:return"Rinkeby";case 42:return"Kovan";case 100:return"xDAI";default:return"unknown (id:".concat(A.networkVersion,")")}}(),t("Setting addrs.net",r),P({net:r}),a="".concat((null!==(n=D.self)&&void 0!==n?n:"").substr(2),".addr.reverse"),t("Adding Reverse Address",a),P({rev:a}),e.next=9,S.eth.ens.getOwner("addr.reverse");case 9:return c=e.sent,P({revRegistrar:c}),e.next=13,S.eth.ens.getOwner(a);case 13:s=e.sent,P({revOwner:s});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!D.self&&!D.net}},{name:"Load Contracts",func:function(){var e=Object(f.a)(i.a.mark((function e(){var n,t,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("color: lightgray; background-color: black"),n=new S.eth.Contract(k.a,D.revRegistrar),e.next=4,n.methods.defaultResolver().call();case 4:if(t=e.sent,P({defaultResolver:t}),D.rev){e.next=8;break}throw new Error("Reverse Address Is Not Set");case 8:return e.next=10,S.eth.ens.getResolver(D.rev);case 10:return r=e.sent,P({resolver:r.options.address}),e.next=14,n.methods.node(D.self).call();case 14:return a=e.sent,e.next=17,r.methods.name(a).call();case 17:c=e.sent,P({revName:c});case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!D.net&&!B.revRegistrar}},{name:"Register: ".concat(a,".").concat(v),func:function(){var e=Object(f.a)(i.a.mark((function e(){var n,t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D.owner===D.self){e.next=7;break}return e.next=3,null===(n=B.reg)||void 0===n?void 0:n.methods.register(S.utils.sha3(a),D.self).send({from:D.self});case 3:return e.next=5,null===(t=B.ens)||void 0===t?void 0:t.methods.owner(M("".concat(a,".").concat(v))).call();case 5:r=e.sent,P({owner:r});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return D.owner!==D.self}},{name:"Set a Resolver for the New Domain",func:function(){var e=Object(f.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=B.ens)||void 0===n?void 0:n.methods.setResolver(M("".concat(a,".").concat(v)),D.resolve).send({from:D.self});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!B.ens&&!!D.resolve}},{name:"Claim the Reverse Address",func:function(){var e=Object(f.a)(i.a.mark((function e(){var n,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D.revOwner===D.self){e.next=9;break}return e.next=3,null===(n=B.revRegistrar)||void 0===n?void 0:n.methods.claim(D.self).send({from:D.self});case 3:if(D.rev){e.next=5;break}throw new Error("Missing Reverse Address");case 5:return e.next=7,S.eth.ens.getOwner(D.rev);case 7:t=e.sent,P({revOwner:t});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!D.rev&&!!B.revRegistrar}},{name:"Set Resolver and Link Reverse Name",func:function(){var e=Object(f.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D.revLook==="".concat(a,".").concat(v)){e.next=4;break}return e.next=3,null===(n=B.revRegistrar)||void 0===n?void 0:n.methods.setName("".concat(a,".").concat(v)).send({from:D.self});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!B.ens&&!!B.revRegistrar}}];return Object(R.jsxs)(o.a,{children:[Object(R.jsxs)(b.a,{children:[Object(R.jsxs)(j.a,{justify:"center",children:[Object(R.jsx)(m.a,{textAlign:"right",value:a,onChange:function(e){return c(e.target.value)}}),".",Object(R.jsx)(m.a,{value:v,onChange:function(e){return h(e.target.value)}})]}),Object(R.jsx)(w.a,{templateColumns:"auto 1fr",children:Object.entries(N).map((function(e,n){var t=Object(d.a)(e,2),r=t[0],a=t[1];return Object(R.jsxs)(O.a,{display:"contents",_hover:{bg:"yellow"},children:[Object(R.jsxs)(g.a,{m:0,textAlign:"right",pr:5,children:[a,":"]}),Object(R.jsx)(g.a,{m:0,children:Object(R.jsx)("code",{children:D[r]})})]},n)}))})]}),Object(R.jsx)(b.a,{children:W.map((function(e,n){return Object(R.jsx)(x.a,{onClick:e.func,disabled:!!e.if&&!e.if(),m:0,py:10,mt:"0 ! important",children:e.name},n)}))})]})},N=function(){return Object(R.jsx)(o.a,{className:"App",children:Object(R.jsx)(I,{})})};s.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(N,{})}),document.getElementById("root"))}},[[517,1,2]]]);
//# sourceMappingURL=main.4f53f97f.chunk.js.map
(this["webpackJsonpreverse-ens"]=this["webpackJsonpreverse-ens"]||[]).push([[0],{277:function(e,r){},300:function(e,r){},302:function(e,r){},378:function(e,r){},380:function(e,r){},412:function(e,r){},417:function(e,r){},419:function(e,r){},426:function(e,r){},439:function(e,r){},457:function(e,r){},468:function(e,r){},471:function(e,r){},529:function(e,r,t){"use strict";t.r(r);var n=t(1),a=t.n(n),s=t(249),c=t.n(s),o=t(147),u=t(18),i=t(540),d=t(19),l=t.n(d),f=t(49),v=t(44),b=t(10),p=t(250),h=t.n(p),x=t(110),m=t(548),j=t(541),w=t(542),O=t(546),g=t(544),R=t(545),k=t(547),A=t(253),N=t(17),y=void 0,S=window.ethereum,C=new h.a(S),E=function(e){return function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];t[0]="%c ".concat(t[0]," "),t.splice(1,0,e),console.log.apply(y,t)}},I=function(){var e=new x.a,r=Object(u.f)(),t=Object(n.useState)(r.name||"subdomain.ensname.eth"),a=Object(b.a)(t,2),s=a[0],c=a[1],o=Object(n.useState)({self:"Your Address",net:"Current Network",revRegistrar:"Reverse Registrar Address",rev:"Reverse Address",owner:null,address:null,revOwner:"Reverse Lookup Owner",resolver:"Resolver Address",revName:"Reverse Lookup"}),d=Object(b.a)(o,2),p=d[0],h=d[1],y=Object(n.useState)({}),I=Object(b.a)(y,2),M=I[0],L=I[1],W=Object(n.useState)({}),$=Object(b.a)(W,2),T=$[0],q=$[1],J=function(e){L((function(r){return Object(v.a)(Object(v.a)({},r),e)}))},U=function(e){q((function(r){return Object(v.a)(Object(v.a)({},r),e)}))},B=function(){L({}),q({})};null===S||void 0===S||S.on("chainChanged",B),null===S||void 0===S||S.on("accountsChanged",(function(e){B(),J({self:e[0]})})),Object(n.useEffect)((function(){h((function(e){return Object(v.a)(Object(v.a)({},e),{},{owner:"".concat(s," Owner"),address:"".concat(s," Address")})})),L((function(e){return Object(v.a)(Object(v.a)({},e),{},{owner:void 0,address:void 0})}))}),[s]);var D=[{name:"Install MetaMask",func:function(){return e.startOnboarding()},if:function(){return!x.a.isMetaMaskInstalled()}},{name:"Stop Onboarding",func:function(){try{e.stopOnboarding()}catch(r){console.warn(r)}},if:function(){return!x.a.isMetaMaskInstalled()}},{name:"Connect To Ethereum Wallet",func:function(){var e=Object(f.a)(l.a.mark((function e(){var r,t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=E("color: purple"))("Enabling Inpage Provider"),e.next=4,null===S||void 0===S?void 0:S.request({method:"eth_requestAccounts"});case 4:t=e.sent,n=null===t||void 0===t?void 0:t[0],r("Wallet Address",n),J({self:n});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!S&&!M.self}},{name:"Load Addresses",func:function(){var e=Object(f.a)(l.a.mark((function e(){var r,t,n,a,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=E("color: orange; background-color: purple"),e.next=3,Object(f.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.eth.getChainId();case 2:r=e.sent,e.t0=r,e.next=1===e.t0?6:2===e.t0?7:3===e.t0?8:4===e.t0?9:42===e.t0?10:100===e.t0?11:12;break;case 6:return e.abrupt("return","mainnet");case 7:return e.abrupt("return","Morden");case 8:return e.abrupt("return","Ropsten");case 9:return e.abrupt("return","Rinkeby");case 10:return e.abrupt("return","Kovan");case 11:return e.abrupt("return","xDAI");case 12:return e.abrupt("return","unknown (id:".concat(r,")"));case 13:case"end":return e.stop()}}),e)})))();case 3:if(t=e.sent,r("Setting addrs.net",t),J({net:t}),M.self){e.next=8;break}throw new Error("Wallet Address Not Set");case 8:return n="".concat(M.self.substr(2),".addr.reverse"),r("Adding Reverse Address",n),J({rev:n}),r("Looking Up addr.reverse Owner"),e.next=14,C.eth.ens.getOwner("addr.reverse");case 14:if(a=e.sent,r("revReg",a),a){e.next=18;break}throw new Error("Couldn't resolve reverse registrar.");case 18:return r("revReg",a),J({revRegistrar:a}),e.next=22,C.eth.ens.getOwner(n);case 22:return c=e.sent,J({revOwner:c}),e.next=26,C.eth.ens.getResolver(s);case 26:if(o=e.sent,!/^0x0+$/.test(o.options.address)){e.next=31;break}J({address:null,owner:null}),e.next=41;break;case 31:return e.next=33,C.eth.ens.getAddress(s);case 33:return u=e.sent,e.t0=J,e.t1=u,e.next=38,C.eth.ens.getOwner(u);case 38:e.t2=e.sent,e.t3={address:e.t1,owner:e.t2},(0,e.t0)(e.t3);case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!M.self&&(!M.net||void 0===M.address||void 0===M.owner)}},{name:"Load Contracts",func:function(){var e=Object(f.a)(l.a.mark((function e(){var r,t,n,a,s,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=E("color: lightgray; background-color: black"),M.revRegistrar){e.next=3;break}throw new Error("Reverse Registrar Address Not Set");case 3:return t=new C.eth.Contract(A.a,M.revRegistrar),r("Reverse Registrar",t.options.address),U({revRegistrar:t}),e.next=8,t.methods.defaultResolver().call();case 8:if(n=e.sent,J({defaultResolver:n}),M.rev){e.next=12;break}throw new Error("Reverse Address Is Not Set");case 12:return e.next=14,C.eth.ens.getResolver(M.rev);case 14:if(a=e.sent,U({revResolver:a}),s=a.options.address,J({resolver:s}),!/^0x0+$/.test(s)){e.next=22;break}J({revName:null}),e.next=29;break;case 22:return e.next=24,t.methods.node(M.self).call();case 24:return c=e.sent,e.next=27,a.methods.name(c).call();case 27:o=e.sent,J({revName:o});case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!M.revRegistrar&&!T.revRegistrar}},{name:"Claim the Reverse Address",func:function(){var e=Object(f.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M.revOwner!==M.self){e.next=2;break}return e.abrupt("return",alert("This account has already claimed its reverse address. (".concat(M.self,")")));case 2:if(T.revRegistrar){e.next=4;break}throw new Error("Reverse Registrar Contract Not Set");case 4:return e.next=6,T.revRegistrar.methods.claim(M.self).send({from:M.self});case 6:if(M.rev){e.next=8;break}throw new Error("Missing Reverse Address");case 8:return e.next=10,C.eth.ens.getOwner(M.rev);case 10:r=e.sent,J({revOwner:r});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){var e;return/^0x0+$/.test(null!==(e=M.revOwner)&&void 0!==e?e:"")&&!!T.revRegistrar}},{name:"Link Reverse Name",func:function(){var e=Object(f.a)(l.a.mark((function e(){var r,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M.revName!==s){e.next=2;break}return e.abrupt("return",alert("Reverse Already Set To: ".concat(s)));case 2:if(M.revName&&!window.confirm("Overwrite ".concat(M.revName,"?"))){e.next=16;break}if(T.revRegistrar){e.next=5;break}throw new Error("Reverse Registrar Not Set");case 5:return e.next=7,T.revRegistrar.methods.setName(s).send({from:M.self});case 7:if(T.revResolver){e.next=9;break}throw new Error("Reverse Resolver Not Set");case 9:return e.next=11,T.revRegistrar.methods.node(M.self).call();case 11:return r=e.sent,e.next=14,T.revResolver.methods.name(r).call();case 14:t=e.sent,J({revName:t});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){var e;return!/^0x0+$/.test(null!==(e=M.revOwner)&&void 0!==e?e:"")&&!!T.revResolver&&!!T.revRegistrar}}];return Object(N.jsxs)(i.a,{children:[Object(N.jsxs)(m.a,{children:[Object(N.jsxs)(j.a,{justify:"center",children:[Object(N.jsx)(w.a,{m:0,mr:5,children:"ENS Address For Reverse Record:"}),Object(N.jsx)(O.a,{textAlign:"center",value:s,onChange:function(e){return c(e.target.value)}})]}),Object(N.jsx)(g.a,{templateColumns:"auto 1fr",alignItems:"center",children:Object.entries(p).map((function(e,r){var t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(N.jsxs)(R.a,{display:"contents",sx:{"&:hover > *":{bg:"yellow"}},children:[Object(N.jsxs)(w.a,{m:0,textAlign:"right",pr:5,minW:"12em",children:[a,":"]}),Object(N.jsx)(w.a,{m:0,textOverflow:"clip",title:M[n],children:Object(N.jsx)("code",{children:null===M[n]?Object(N.jsx)("em",{children:"Unset"}):M[n]})})]},r)}))})]}),Object(N.jsx)(m.a,{children:D.map((function(e,r){return Object(N.jsx)(k.a,{onClick:Object(f.a)(l.a.mark((function r(){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.func();case 3:r.next=9;break;case 5:r.prev=5,r.t0=r.catch(0),console.error(r.t0),alert(r.t0.message);case 9:case"end":return r.stop()}}),r,null,[[0,5]])}))),disabled:!!e.if&&!e.if(),m:0,py:10,mt:"0 ! important",children:e.name},r)}))})]})},M=function(){return Object(N.jsx)(i.a,{className:"App",children:Object(N.jsx)(o.a,{basename:"/reverse-ens",children:Object(N.jsx)(u.c,{children:Object(N.jsx)(u.a,{path:"/:name?",component:I})})})})};c.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(M,{})}),document.getElementById("root"))}},[[529,1,2]]]);
//# sourceMappingURL=main.81186099.chunk.js.map
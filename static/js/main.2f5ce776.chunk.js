(this["webpackJsonpreverse-ens"]=this["webpackJsonpreverse-ens"]||[]).push([[0],{267:function(e,n){},290:function(e,n){},292:function(e,n){},368:function(e,n){},370:function(e,n){},402:function(e,n){},407:function(e,n){},409:function(e,n){},416:function(e,n){},429:function(e,n){},447:function(e,n){},458:function(e,n){},461:function(e,n){},517:function(e,n,r){"use strict";r.r(n);var t=r(1),s=r.n(t),a=r(239),c=r.n(a),o=r(528),i=r(22),u=r.n(i),d=r(67),f=r(41),l=r(10),v=r(240),b=r.n(v),h=r(105),j=r(536),p=r(529),O=r(534),m=r(531),w=r(532),x=r(533),g=r(535),R=r(243),k=r(17),A=void 0,y=window.ethereum,S=new b.a(y),N=function(e){return function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];r[0]="%c ".concat(r[0]," "),r.splice(1,0,e),console.log.apply(A,r)}},C=function(){var e=new h.a,n=Object(t.useState)("subdomain.ensname.eth"),r=Object(l.a)(n,2),s=r[0],a=r[1],c=Object(t.useState)({self:"Your Address",net:"Current Network",revRegistrar:"Reverse Registrar Address",rev:"Reverse Address",owner:null,address:null,revOwner:"Reverse Lookup Owner",resolver:"Resolver Address",revName:"Reverse Lookup"}),i=Object(l.a)(c,2),v=i[0],b=i[1],A=Object(t.useState)({}),C=Object(l.a)(A,2),E=C[0],I=C[1],M=Object(t.useState)({}),L=Object(l.a)(M,2),$=L[0],q=L[1],J=function(e){I((function(n){return Object(f.a)(Object(f.a)({},n),e)}))},U=function(e){q((function(n){return Object(f.a)(Object(f.a)({},n),e)}))};y.on("chainChanged",(function(){I({}),q({})})),y.on("accountsChanged",(function(e){return J({self:e[0]})})),Object(t.useEffect)((function(){b((function(e){return Object(f.a)(Object(f.a)({},e),{},{owner:"".concat(s," Owner"),address:"".concat(s," Address")})})),I((function(e){return Object(f.a)(Object(f.a)({},e),{},{owner:void 0,address:void 0})}))}),[s]);var V=[{name:"Install MetaMask",func:function(){return e.startOnboarding()},if:function(){return!h.a.isMetaMaskInstalled()}},{name:"Stop Onboarding",func:function(){try{e.stopOnboarding()}catch(n){console.warn(n)}},if:function(){return!h.a.isMetaMaskInstalled()}},{name:"Enable Ethereum on this Site",func:function(){var e=Object(d.a)(u.a.mark((function e(){var n,r,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=N("color: purple"))("Enabling Inpage Provider"),e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:r=e.sent,t=r[0],n("Wallet Address",t),J({self:t});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!E.self}},{name:"Load Addresses",func:function(){var e=Object(d.a)(u.a.mark((function e(){var n,r,t,a,c,o,i,d,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=N("color: orange; background-color: purple"),t=function(){switch(parseInt(y.networkVersion)){case 1:return"mainnet";case 2:return"Morden";case 3:return"Ropsten";case 4:return"Rinkeby";case 42:return"Kovan";case 100:return"xDAI";default:return"unknown (id:".concat(y.networkVersion,")")}}(),r("Setting addrs.net",t),J({net:t}),a="".concat((null!==(n=E.self)&&void 0!==n?n:"").substr(2),".addr.reverse"),r("Adding Reverse Address",a),J({rev:a}),e.next=9,S.eth.ens.getOwner("addr.reverse");case 9:return c=e.sent,J({revRegistrar:c}),e.next=13,S.eth.ens.getOwner(a);case 13:return o=e.sent,J({revOwner:o}),e.next=17,S.eth.ens.getResolver(s);case 17:if(i=e.sent,!/^0x0+$/.test(i.options.address)){e.next=24;break}J({address:d=Object(k.jsx)("em",{children:"Unset"})}),J({owner:d}),e.next=34;break;case 24:return e.next=26,S.eth.ens.getAddress(s);case 26:return f=e.sent,J({address:f}),e.t0=J,e.next=31,S.eth.ens.getOwner(f);case 31:e.t1=e.sent,e.t2={owner:e.t1},(0,e.t0)(e.t2);case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!E.self&&(!E.net||!E.address||!E.owner)}},{name:"Load Contracts",func:function(){var e=Object(d.a)(u.a.mark((function e(){var n,r,t,s,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N("color: lightgray; background-color: black"),r=new S.eth.Contract(R.a,E.revRegistrar),n("Reverse Registrar",r.options.address),U({revRegistrar:r}),e.next=6,r.methods.defaultResolver().call();case 6:if(t=e.sent,J({defaultResolver:t}),E.rev){e.next=10;break}throw new Error("Reverse Address Is Not Set");case 10:return e.next=12,S.eth.ens.getResolver(E.rev);case 12:return s=e.sent,U({revResolver:s}),J({resolver:s.options.address}),e.next=17,r.methods.node(E.self).call();case 17:return a=e.sent,e.next=20,s.methods.name(a).call();case 20:if(e.t0=e.sent,e.t0){e.next=23;break}e.t0=Object(k.jsx)("em",{children:"Unset"});case 23:c=e.t0,J({revName:c});case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!E.net&&!$.revRegistrar}},{name:"Claim the Reverse Address",func:function(){var e=Object(d.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.revOwner===E.self){e.next=9;break}return e.next=3,null===(n=$.revRegistrar)||void 0===n?void 0:n.methods.claim(E.self).send({from:E.self});case 3:if(E.rev){e.next=5;break}throw new Error("Missing Reverse Address");case 5:return e.next=7,S.eth.ens.getOwner(E.rev);case 7:r=e.sent,J({revOwner:r});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){var e;return/^0x0+$/.test(null!==(e=E.revOwner)&&void 0!==e?e:"")&&!!$.revRegistrar}},{name:"Set Resolver and Link Reverse Name",func:function(){var e=Object(d.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.revLook!==s){e.next=2;break}return e.abrupt("return",alert("Reverse Already Set To: ".concat(s)));case 2:if(E.revName&&!window.confirm("Overwrite ".concat(E.revName,"?"))){e.next=14;break}if($.revRegistrar){e.next=5;break}throw new Error("Reverse Registrar Not Set");case 5:return e.next=7,$.revRegistrar.methods.setName(s).send({from:E.self});case 7:if(n=e.sent,$.revResolver){e.next=10;break}throw new Error("Reverse Resolver Not Set");case 10:return e.next=12,$.revResolver.methods.name(n).call();case 12:r=e.sent,J({revName:r});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){var e;return!/^0x0+$/.test(null!==(e=E.revOwner)&&void 0!==e?e:"")&&!!$.revResolver&&!!$.revRegistrar}}];return Object(k.jsxs)(o.a,{children:[Object(k.jsxs)(j.a,{children:[Object(k.jsx)(p.a,{justify:"center",children:Object(k.jsx)(O.a,{textAlign:"right",value:s,onChange:function(e){return a(e.target.value)}})}),Object(k.jsx)(m.a,{templateColumns:"auto 1fr",alignItems:"center",children:Object.entries(v).map((function(e,n){var r=Object(l.a)(e,2),t=r[0],s=r[1];return Object(k.jsxs)(w.a,{display:"contents",_hover:{bg:"yellow"},children:[Object(k.jsxs)(x.a,{m:0,textAlign:"right",pr:5,minW:"12em",children:[s,":"]}),Object(k.jsx)(x.a,{m:0,textOverflow:"clip",title:E[t],children:Object(k.jsx)("code",{children:E[t]})})]},n)}))})]}),Object(k.jsx)(j.a,{children:V.map((function(e,n){return Object(k.jsx)(g.a,{onClick:e.func,disabled:!!e.if&&!e.if(),m:0,py:10,mt:"0 ! important",children:e.name},n)}))})]})},E=function(){return Object(k.jsx)(o.a,{className:"App",children:Object(k.jsx)(C,{})})};c.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(E,{})}),document.getElementById("root"))}},[[517,1,2]]]);
//# sourceMappingURL=main.2f5ce776.chunk.js.map
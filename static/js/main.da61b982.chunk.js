(this["webpackJsonpreverse-ens"]=this["webpackJsonpreverse-ens"]||[]).push([[0],{305:function(e,t){},328:function(e,t){},330:function(e,t){},406:function(e,t){},408:function(e,t){},440:function(e,t){},445:function(e,t){},447:function(e,t){},454:function(e,t){},467:function(e,t){},485:function(e,t){},496:function(e,t){},499:function(e,t){},558:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(84),c=r.n(a),o=r(581),u=r(163),i=r(22),l=r(23),d=r.n(l),f=r(70),v=r(52),b=r(9),j=r(267),m=r.n(j),p=r(165),h=r(580),x=r(573),O=r(583),g=r(574),w=r(575),k=r(582),R=r(577),A=r(578),S=r(579),C=r(584),N=r(585),y=r(270),E=r(586),I=r(19),M=void 0,W=window.ethereum,F=new m.a(W),L=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r[0]="%c ".concat(r[0]," "),r.splice(1,0,e),console.log.apply(M,r)}},q=function(){var e=new p.a,t=Object(i.f)(),r=Object(n.useState)(t.name),s=Object(b.a)(r,2),a=s[0],c=s[1],o=Object(n.useState)({self:"Your Address",net:"Current Network",registrar:"Reverse Registrar Address",reverse:"Reverse Address",address:null,resolver:"Resolver Address",owner:"Reverse Lookup Owner",name:"Reverse Lookup"}),u=Object(b.a)(o,2),l=u[0],j=u[1],m=Object(n.useState)({}),M=Object(b.a)(m,2),q=M[0],z=M[1],B=Object(n.useState)({}),D=Object(b.a)(B,2),J=D[0],T=D[1],U=Object(n.useState)(!1),$=Object(b.a)(U,2),K=$[0],P=$[1],V=Object(h.a)(),Y=Object(n.useRef)(null),_=function(e){z((function(t){return Object(v.a)(Object(v.a)({},t),e)}))},G=function(e){T((function(t){return Object(v.a)(Object(v.a)({},t),e)}))},H=function(){z({}),T({})};Object(n.useEffect)((function(){return null===W||void 0===W||W.on("chainChanged",H),function(){return null===W||void 0===W?void 0:W.off("chainChanged",H)}}),[]),Object(n.useEffect)((function(){var e=function(e){H(),_({self:e[0]})};return null===W||void 0===W||W.on("accountsChanged",e),function(){return null===W||void 0===W?void 0:W.off("accountsChanged",e)}}),[]),Object(n.useEffect)((function(){j((function(e){return Object(v.a)(Object(v.a)({},e),{},{address:a?"".concat(a,"'s Address"):null})})),z((function(e){return Object(v.a)(Object(v.a)({},e),{},{address:void 0})}))}),[a]);var Q=[{name:"Install MetaMask",func:function(){return e.startOnboarding()},if:function(){return!p.a.isMetaMaskInstalled()}},{name:"Connect Ethereum Wallet",func:function(){var e=Object(f.a)(d.a.mark((function e(){var t,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=L("color: purple"))("Enabling Inpage Provider"),e.next=4,null===W||void 0===W?void 0:W.request({method:"eth_requestAccounts"});case 4:r=e.sent,n=null===r||void 0===r?void 0:r[0],t("Wallet Address",n),_({self:n});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!W&&!q.self}},{name:"Load Addresses",func:function(){var e=Object(f.a)(d.a.mark((function e(){var t,r,n,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=L("color: orange; background-color: purple"),e.next=3,Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.eth.getChainId();case 2:t=e.sent,e.t0=t,e.next=1===e.t0?6:2===e.t0?7:3===e.t0?8:4===e.t0?9:42===e.t0?10:100===e.t0?11:12;break;case 6:return e.abrupt("return","mainnet");case 7:return e.abrupt("return","Morden");case 8:return e.abrupt("return","Ropsten");case 9:return e.abrupt("return","Rinkeby");case 10:return e.abrupt("return","Kovan");case 11:return e.abrupt("return","xDAI");case 12:return e.abrupt("return","unknown (id:".concat(t,")"));case 13:case"end":return e.stop()}}),e)})))();case 3:if(r=e.sent,t("Setting Network Name",r),_({net:r}),q.self){e.next=8;break}throw new Error("Wallet Address Not Set");case 8:return n="".concat(q.self.substr(2),".addr.reverse"),t("Adding Reverse Address",n),_({reverse:n}),e.next=13,F.eth.ens.getOwner("addr.reverse");case 13:if(s=e.sent,t("Reverse Registrar",s),s&&!/^0x0+$/.test(s)){e.next=17;break}throw new Error("Couldn't Resolve Reverse Registrar");case 17:if(_({registrar:s}),e.prev=18,a){e.next=21;break}throw new Error("Name Not Set");case 21:return e.next=23,F.eth.ens.getAddress(a);case 23:return c=e.sent,e.t0=_,e.t1=c,e.next=28,F.eth.ens.getOwner(c);case 28:e.t2=e.sent,e.t3={address:e.t1,owner:e.t2},(0,e.t0)(e.t3),e.next=40;break;case 33:if(e.prev=33,e.t4=e.catch(18),!e.t4.message.includes("does not implement requested method")&&!e.t4.message.includes("Name Not Set")){e.next=39;break}_({address:null,owner:null}),e.next=40;break;case 39:throw e.t4;case 40:case"end":return e.stop()}}),e,null,[[18,33]])})));return function(){return e.apply(this,arguments)}}(),if:function(){return!!q.self&&[q.net,q.reverse,q.registrar,q.address,q.owner].some((function(e){return void 0===e}))}},{name:"Load Contracts",func:function(){var e=Object(f.a)(d.a.mark((function e(){var t,r,n,s,o,u,i,l,f,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L("color: lightgray; background-color: black"),q.registrar){e.next=3;break}throw new Error("Reverse Registrar Address Not Set");case 3:if(r=new F.eth.Contract(y.a,q.registrar),t("Reverse Registrar",r.options.address),G({registrar:r}),q.reverse){e.next=8;break}throw new Error("Reverse Address Is Not Set");case 8:return e.next=10,F.eth.ens.getResolver(q.reverse);case 10:if(n=e.sent,G({reverseResolver:n}),s=n.options.address,_({resolver:s}),o=a,!/^0x0+$/.test(s)){e.next=19;break}_({name:null}),e.next=36;break;case 19:return e.next=21,r.methods.node(q.self).call();case 21:return i=e.sent,e.next=24,n.methods.name(i).call();case 24:if(e.t1=u=e.sent,e.t0=null!==e.t1,!e.t0){e.next=28;break}e.t0=void 0!==u;case 28:if(!e.t0){e.next=32;break}e.t2=u,e.next=33;break;case 32:e.t2=null;case 33:l=e.t2,_({name:l}),a||(o=l,c(l),V({title:"Set Name",description:'Defaulting name to current reverse record: "'.concat(l,'".'),duration:3e3}),null===(f=Y.current)||void 0===f||f.focus());case 36:if(!o){e.next=41;break}return e.next=39,F.eth.ens.getResolver(o);case 39:v=e.sent,G({resolver:v});case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return![q.net,q.reverse,q.registrar,q.address,q.owner].some((function(e){return void 0===e}))&&[q.name,J.resolver,J.registrar,J.reverseResolver].some((function(e){return void 0===e}))}},{name:a?"Set ".concat(a," As Reverse"):"Enter A Name To Use As Reverse",func:function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&q.name!==a){e.next=3;break}return a&&alert("Reverse Already Set To: ".concat(a)),e.abrupt("return",null===(t=Y.current)||void 0===t?void 0:t.focus());case 3:if(q.name&&!window.confirm("Overwrite ".concat(q.name,"?"))){e.next=12;break}if(J.registrar){e.next=6;break}throw new Error("Reverse Registrar Contract Not Set");case 6:return P(!0),e.next=9,J.registrar.methods.setName(a).send({from:q.self});case 9:G({resolver:void 0}),_({name:void 0,owner:void 0}),P(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),if:function(){return![q.net,q.reverse,q.registrar,q.address,q.owner,q.name,J.resolver,J.registrar,J.reverseResolver].some((function(e){return void 0===e}))}}];return Object(I.jsxs)(x.a,{maxW:"100%",children:[Object(I.jsxs)(O.a,{children:[Object(I.jsxs)(g.a,{justify:"center",justifyItems:"center",children:[Object(I.jsx)(w.a,{m:0,mr:2,alignSelf:"center",children:"ENS Name For Reverse Record:"}),Object(I.jsx)(k.a,{w:"auto",textAlign:"center",placeholder:"Exe: sample.ens.eth",value:null!==a&&void 0!==a?a:"",ref:Y,onChange:function(e){c(e.target.value),_({address:void 0}),G({resolver:void 0})}})]}),Object(I.jsx)(R.a,{templateColumns:"auto 1fr",alignItems:"center",children:Object.entries(l).map((function(e,t){var r,n=Object(b.a)(e,2),s=n[0],a=n[1],c=Object(A.a)(null!==(r=q[s])&&void 0!==r?r:"").onCopy;return a?Object(I.jsxs)(S.a,{display:"contents",sx:{"&:hover > *":{bg:"#FBFF0522"}},children:[Object(I.jsxs)(w.a,{m:0,textAlign:"right",pr:5,minW:"12em",children:[a,":"]}),Object(I.jsxs)(w.a,{m:0,textOverflow:"clip",whiteSpace:"nowrap",title:q[s],children:[q[s]&&Object(I.jsx)(C.a,{title:"Copy",mr:2,size:"xs",onClick:function(){c(),V({title:"Value Copied",duration:1500})},children:Object(I.jsx)(E.a,{})}),Object(I.jsx)("code",{children:null===q[s]?Object(I.jsx)("em",{children:"Unset"}):q[s]})]})]},t):null}))})]}),Object(I.jsx)(O.a,{children:Q.map((function(e,t){return Object(I.jsxs)(C.a,{onClick:Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.func();case 3:t.next=10;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0),alert(t.t0.message),P(!1);case 10:case"end":return t.stop()}}),t,null,[[0,5]])}))),disabled:K||!!e.if&&!e.if(),m:0,mt:"0 ! important",children:[K&&t+1===Q.length&&Object(I.jsx)(N.a,{size:"sm",mr:3}),e.name]},t)}))})]})},z=function(){return Object(I.jsx)(u.a,{children:Object(I.jsx)(i.c,{children:Object(I.jsx)(i.a,{path:"/:name?",component:q})})})};c.a.render(Object(I.jsx)(s.a.StrictMode,{children:Object(I.jsx)(o.a,{children:Object(I.jsx)(z,{})})}),document.getElementById("root"))}},[[558,1,2]]]);
//# sourceMappingURL=main.da61b982.chunk.js.map
(this["webpackJsonpreverse-ens"]=this["webpackJsonpreverse-ens"]||[]).push([[0],{406:function(e,t){},427:function(e,t){},429:function(e,t){},502:function(e,t){},504:function(e,t){},536:function(e,t){},541:function(e,t){},543:function(e,t){},550:function(e,t){},563:function(e,t){},581:function(e,t){},591:function(e,t){},594:function(e,t){},654:function(e,t){},728:function(e,t){},801:function(e,t){},822:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(66),c=r.n(a),o=r(854),u=r(223),i=r(30),l=r(11),d=r.n(l),f=r(71),b=r(72),h=r(6),p=r(364),v=r.n(p),j=r(848),x=r(849),m=r(838),O=r(851),w=r(839),g=r(840),k=r(850),y=r(842),R=r(843),S=r(844),A=r(847),C=r(855),E=r(845),N=r(366),T=r(856),I=r(367),W=r.n(I),F=r(368),P=r.n(F),z=r(23),D=void 0,L={walletconnect:{package:P.a,options:{infuraId:"3f96b569e0ad4b5dad8c41db5eb98f1e"}}},U=new W.a({cacheProvider:!0,providerOptions:L}),B=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r[0]="%c ".concat(r[0]," "),r.splice(1,0,e),console.log.apply(D,r)}},J={self:"This is the address of your wallet. The reverse record is an ENS name that is returned when users search on this address. There is only one reverse record per address.",net:"The currently selected ethereum chain. In general ENS resolution is done on the mainnet, but instances exist on some of the test chains as well.",registrar:"This is the contract that controls name registration for the reverse records.",reverse:"This is a specially formatted address that is used to look up your reverse record.",address:"The forward resolution for the currently selected name to use for the reverse record. There is no technical requirement that this resolve to your wallet address, but if it doesn't, many implementations will disregard the record.",resolver:"This is the contract address for the resolver for the resolution of reverse entries.",owner:"When you create a reverse entry, you are set as the owner of the reverse address.",name:"This is the currently configured reverse record for your wallet address."},M=function(){var e=Object(i.f)(),t=Object(n.useState)(e.name),r=Object(h.a)(t,2),s=r[0],a=r[1],c=Object(n.useState)(null),o=Object(h.a)(c,2),u=o[0],l=o[1],p=Object(n.useState)({self:"Your Address",net:"Current Network",registrar:"Reverse Registrar Address",reverse:"Reverse Address",resolver:"Resolver Address",address:null,owner:"Reverse Lookup Owner",name:"Current Reverse"}),I=Object(h.a)(p,2),W=I[0],F=I[1],P=Object(n.useState)({}),D=Object(h.a)(P,2),L=D[0],M=D[1],$=Object(n.useState)({}),q=Object(h.a)($,2),K=q[0],V=q[1],X=Object(n.useState)(null),Y=Object(h.a)(X,2),G=Y[0],H=Y[1],Q=Object(n.useState)(!1),Z=Object(h.a)(Q,2),_=Z[0],ee=Z[1],te=Object(j.a)(),re=Object(x.a)(["bottom","right"]),ne=Object(n.useRef)(null),se=function(e){M((function(t){return Object(b.a)(Object(b.a)({},t),e)}))},ae=function(e){V((function(t){return Object(b.a)(Object(b.a)({},t),e)}))},ce=Object(n.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",null);case 2:if(e.prev=2,t){e.next=5;break}throw new Error("Name Not Set");case 5:return e.next=7,u.eth.ens.getAddress(t);case 7:r=e.sent,se({address:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),se({address:null});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),[u]);Object(n.useEffect)((function(){F((function(e){return Object(b.a)(Object(b.a)({},e),{},{address:s?"".concat(s,"'s Address"):null})})),M((function(e){return Object(b.a)(Object(b.a)({},e),{},{address:void 0})})),ce(s)}),[s,ce]);var oe=Object(n.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t){var r,n,s,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=B("color: purple"),n=new v.a(t),l(n),t.on&&(r("Listening to Provider"),s=function(){M({}),V({}),ee(!1)},a=function(){U.clearCachedProvider(),l(null),s()},t.on("disconnect",a),t.on("chainChanged",s),c=function(e){0===e.length?a():s()},t.on("accountsChanged",c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)((function(){U.cachedProvider&&U.connect().then(oe)}),[oe]),Object(n.useEffect)((function(){Object(f.a)(d.a.mark((function e(){var t,r,n,c,o,i,l,b,h,p,v,j,x,m,O;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&!_){e.next=2;break}return e.abrupt("return",null);case 2:return ee(!0),t=B("color: orange; background-color: purple"),e.next=6,u.eth.getAccounts();case 6:return r=e.sent,n=r[0],t("Wallet Address",n),se({self:n}),e.next=12,Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.eth.getChainId();case 2:t=e.sent,e.t0=t,e.next=1===e.t0?6:2===e.t0?7:3===e.t0?8:4===e.t0?9:42===e.t0?10:100===e.t0?11:12;break;case 6:return e.abrupt("return","mainnet");case 7:return e.abrupt("return","Morden");case 8:return e.abrupt("return","Ropsten");case 9:return e.abrupt("return","Rinkeby");case 10:return e.abrupt("return","Kovan");case 11:return e.abrupt("return","xDAI");case 12:return e.abrupt("return","unknown (id:".concat(t,")"));case 13:case"end":return e.stop()}}),e)})))();case 12:return c=e.sent,t("Setting Network Name",c),se({net:c}),ce(s),e.next=18,u.eth.ens.getOwner("addr.reverse");case 18:if(o=e.sent,t("Reverse Registrar",o),!o||/^0x0+$/.test(o)?o=Object(z.jsx)("em",{children:"Error: Couldn't get reverse registrar."}):(i=new u.eth.Contract(N.a,o),t("Reverse Registrar",i.options.address),ae({registrar:i})),se({registrar:o}),l="".concat(n.substr(2),".addr.reverse"),t("Adding Reverse Address",l),se({reverse:l}),!l){e.next=38;break}return e.t0=se,e.next=29,u.eth.ens.getOwner(l);case 29:return e.t1=e.sent,e.t2={owner:e.t1},(0,e.t0)(e.t2),e.next=34,u.eth.ens.getResolver(l);case 34:b=e.sent,ae({reverseResolver:b}),h=b.options.address,se({resolver:h});case 38:if(p=s,h&&!/^0x0+$/.test(h)){e.next=43;break}se({name:null}),e.next=61;break;case 43:if(!i||!b){e.next=61;break}return e.next=46,i.methods.node(n).call();case 46:return j=e.sent,e.next=49,b.methods.name(j).call();case 49:if(e.t4=v=e.sent,e.t3=null!==e.t4,!e.t3){e.next=53;break}e.t3=void 0!==v;case 53:if(!e.t3){e.next=57;break}e.t5=v,e.next=58;break;case 57:e.t5=null;case 58:x=e.t5,se({name:x}),s||(p=x,a(x),te({title:"Set Name",description:'Defaulting name to current reverse record: "'.concat(x,'".'),duration:3e3}),null===(m=ne.current)||void 0===m||m.focus());case 61:if(!p){e.next=72;break}return e.prev=62,e.next=65,u.eth.ens.getResolver(p);case 65:O=e.sent,ae({resolver:O}),e.next=72;break;case 69:e.prev=69,e.t6=e.catch(62),alert(e.t6.message);case 72:case"end":return e.stop()}}),e,null,[[62,69]])})))()}),[u,_,s,te,ce]);var ue=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=6;break}return e.t0=oe,e.next=4,U.connect();case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&L.name!==s){e.next=3;break}return s&&alert("Reverse Already Set To: ".concat(s)),e.abrupt("return",null===(t=ne.current)||void 0===t?void 0:t.focus());case 3:if(L.name&&!window.confirm("Overwrite current reverse: ".concat(L.name,"?"))){e.next=9;break}if(K.registrar){e.next=6;break}throw new Error("Reverse Registrar Contract Not Set");case 6:return e.next=8,K.registrar.methods.setName(s).send({from:L.self});case 8:ee(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(f.a)(d.a.mark((function e(){var t,r,n,a,c,o,i,l,f,b,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",null);case 2:if(L.self){e.next=4;break}throw new Error("Wallet Address Not Set");case 4:if(t=B("color: green; background-color: purple; font-size: 150%"),!((n=(r=null!==s&&void 0!==s?s:"").split(".")).length<2)){e.next=11;break}throw new Error('Not Enough Parts In: "'.concat(r,'"'));case 11:a=n.length;case 12:if(!(a>=1)){e.next=22;break}return c=n.slice(-a).join("."),t("Checking Name",c),e.next=17,u.eth.ens.recordExists(c);case 17:if(!e.sent){e.next=19;break}return e.abrupt("break",22);case 19:a--,e.next=12;break;case 22:if(0!==a){e.next=24;break}throw new Error("".concat(r," is not a supported domain."));case 24:if(a!==n.length){e.next=30;break}if(!window.confirm("Overwrite current record: ".concat(s,"?"))){e.next=29;break}--a,e.next=30;break;case 29:return e.abrupt("return",null);case 30:return o=n.slice(0,-a).join("."),i=n.slice(-a).join("."),e.next=34,u.eth.ens.getOwner(i);case 34:return l=e.sent,e.next=37,u.eth.ens.getResolver(i);case 37:return f=e.sent,b=f.options.address,e.next=41,u.eth.ens.getTTL(i);case 41:if(h=e.sent,t("Writing",{part:o,base:i,address:L.self,resolverAddress:b,ttl:h,owner:l,resolver:f}),L.self===l){e.next=47;break}alert("Only the owner of ".concat(i,", ").concat(l,", can write subdomains.")),e.next=52;break;case 47:return e.next=49,u.eth.ens.setSubnodeRecord(i,o,L.self,b,h,{from:L.self,to:l});case 49:return e.next=51,u.eth.ens.setAddress(r,L.self,{from:L.self});case 51:ee(!1);case 52:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=[{name:"Connect Ethereum Wallet",func:ue,if:function(){return!L.self}},{name:s?"Set ".concat(s," As Reverse"):"Enter A Name To Use As Reverse",func:ie,if:function(){return!s||![s,L.name,K.registrar].some((function(e){return void 0===e}))}},{name:s?"Set A Forward Record For ".concat(s):"Enter A Name To Use Set",func:le,if:function(){return!s||![s,L.self].some((function(e){return void 0===e}))}}];return Object(z.jsxs)(m.a,{maxW:"100%",as:"form",action:"#",onSubmit:function(e){e.preventDefault(),u?ie():ue()},children:[Object(z.jsxs)(O.a,{children:[Object(z.jsxs)(w.a,{justify:"center",justifyItems:"center",children:[Object(z.jsx)(g.a,{m:0,mr:2,alignSelf:"center",children:"ENS Name For Reverse Record:"}),Object(z.jsx)(k.a,{w:"auto",textAlign:"center",placeholder:"Exe: sample.ens.eth",autoFocus:!0,value:null!==s&&void 0!==s?s:"",ref:ne,onChange:function(e){a(e.target.value)}})]}),Object(z.jsx)(y.a,{templateColumns:["auto","auto 1fr"],alignItems:"center",maxW:"100vw",mt:3,children:Object.entries(W).map((function(e,t){var r,n=Object(h.a)(e,2),s=n[0],a=n[1],c=Object(R.a)(null!==(r=L[s])&&void 0!==r?r:"").onCopy;return a?Object(z.jsxs)(S.a,{display:"contents",sx:{"&:hover > *":{bg:"#FBFF0522"}},children:[Object(z.jsx)(A.a,{hasArrow:!0,placement:re,label:J[s],children:Object(z.jsxs)(g.a,{textAlign:["left","right"],m:0,pr:5,minW:"12em",userSelect:"none",children:[a,":"]})}),Object(z.jsxs)(g.a,{m:0,textOverflow:"clip",whiteSpace:"nowrap",title:L[s],overflowX:"hidden",ml:[5,0],children:[L[s]&&Object(z.jsx)(C.a,{title:"Copy",mr:2,size:"xs",onClick:function(){c(),te({title:"Value Copied",duration:1500})},children:Object(z.jsx)(T.a,{})}),Object(z.jsx)("code",{children:null===L[s]?Object(z.jsx)("em",{children:"Unset"}):L[s]})]})]},t):null}))})]}),Object(z.jsxs)(O.a,{mt:3,children:[de.map((function(e,t){return Object(z.jsxs)(C.a,{disabled:!!G||!!e.if&&!e.if(),m:0,mt:"0 ! important",onClick:Object(f.a)(d.a.mark((function r(){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,H(t),r.next=4,e.func();case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),alert(r.t0.message);case 9:return r.prev=9,H(null),r.finish(9);case 12:case"end":return r.stop()}}),r,null,[[0,6,9,12]])}))),children:[G===t&&Object(z.jsx)(E.a,{size:"sm",mr:3}),e.name]},t)})),Object(z.jsx)(k.a,{type:"submit",display:"none"})]})]})},$=function(){return Object(z.jsx)(u.a,{children:Object(z.jsx)(i.c,{children:Object(z.jsx)(i.a,{path:"/:name?",component:M})})})};c.a.render(Object(z.jsx)(s.a.StrictMode,{children:Object(z.jsx)(o.a,{children:Object(z.jsx)($,{})})}),document.getElementById("root"))}},[[822,1,2]]]);
//# sourceMappingURL=main.d565ae01.chunk.js.map